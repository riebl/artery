add_artery_feature(envmod
    BaseEnvironmentModelObject.cc
    IdentityRegistrant.cc
    GlobalEnvironmentModel.cc
    LocalEnvironmentModel.cc
    TraCIEnvironmentModelObject.cc
    sensor/BaseSensor.cc
    sensor/CamSensor.cc
    sensor/FovSensor.cc
    sensor/RadarSensor.cc
    sensor/RsuFovSensor.cc
    sensor/RsuRadarSensor.cc
    sensor/RsuSeeThroughSensor.cc
    sensor/SeeThroughSensor.cc
    sensor/SensorConfiguration.cc
    sensor/SensorPosition.cc
    service/CollectivePerceptionMockMessage.cc
    service/CollectivePerceptionMockService.cc
    service/EnvmodPrinter.cc
)

if(WITH_CPSERVICE)
    target_sources(envmod PRIVATE sensor/CpmSensor.cc)
    target_link_libraries(envmod PUBLIC cpm)
endif()
